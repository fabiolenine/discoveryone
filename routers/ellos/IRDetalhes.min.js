module.exports=function(e){var t=require("./IRrelationshipModel.js"),r=e.Types.ObjectId,n=function(e,r){t.model.find(function(e,t){e?console.log("Erro na busca dos relacionamentos"):r(t)})},i=function(e,n){var i={_id:new r(e._id)},o={emails:{tipo:e.emails.tipo,email:e.emails.email,forauso:e.emails.forauso}};t.model.update(i,{$push:o},{upsert:!1},function(t){n(t?!1:e)})},o=function(e,n){var i={_id:new r(e._id)},o={telefones:{tipo:e.telefones.tipo,numero:e.telefones.numero,forauso:e.telefones.forauso}};t.model.update(i,{$push:o},{upsert:!1},function(t){n(t?!1:e)})},s=function(e,n){var i={_id:new r(e._id)},o={lotacoes:{datalotacao:new date(e.lotacoes.datalotacao),lotacao:e.lotacoes.lotacao,forauso:e.lotacoes.forauso}};t.model.update(i,{$push:o},{upsert:!1},function(t){n(t?!1:e)})},a=function(e,n){var i={_id:new r(e._id)},o={socialnetworks:{tipo:e.socialnetworks.tipo,link:e.socialnetworks.link,forauso:e.socialnetworks.forauso}};t.model.update(i,{$push:o},{upsert:!1},function(t){n(t?!1:e)})},l=function(e,n){var i={_id:new r(e._id)},o={comentarios:{nome:e.comentarios.nome,texto:e.comentarios.texto,forauso:e.comentarios.forauso}};t.model.update(i,{$push:o},{upsert:!1},function(t){n(t?!1:e)})},c=function(e,n){var i=new t.model(e),o={_id:new r(e._id)};e._id?t.model.update(o,{$set:vdatasid},{upsert:!1},function(t){t?(console.log("Atualização do data falhou, ID: "+i._id),console.log(t),n(!1)):(console.log("Sucesso ao atualizar o ID: "+i._id),n(e))}):i.save(function(e,t){n(e?e:t)})},u={listar:n,addemail:i,addtelefone:o,addlotacao:s,addsocialnetwork:a,addcomentario:l,salvar:c};return u};